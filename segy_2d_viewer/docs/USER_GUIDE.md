# SEG-Y 2D Viewer 사용 가이드

## 개요

이 프로그램은 SEG-Y 형식의 지진파 데이터를 시각화하고 first break picking을 수행하기 위한 도구입니다.

## 설치

### 필수 요구사항

- Python 3.7 이상
- pip

### 설치 방법

```bash
# 프로젝트 디렉토리로 이동
cd segy_2d_viewer

# 의존성 설치
pip install -r requirements.txt
```

## 실행

```bash
python src/main.py
```

## 주요 기능

### 1. SEG-Y 파일 로드

- 메뉴바에서 "Open SEG-Y" 버튼 클릭
- SEG-Y 파일 (.sgy, .segy) 선택
- 파일이 로드되면 화면에 지진파 데이터가 표시됩니다

### 2. 확대/축소

- **마우스 휠**: 스크롤하여 확대/축소
  - 위로 스크롤: 확대
  - 아래로 스크롤: 축소
- 줌 범위: 0.1x ~ 10x

### 3. 패닝 (화면 이동)

- **중간 마우스 버튼** 또는 **오른쪽 마우스 버튼**을 누른 채로 드래그
- 화면을 이동하여 다른 영역을 볼 수 있습니다

### 4. First Break Picking

#### 피킹 추가
- **왼쪽 마우스 버튼** 클릭: 클릭한 위치에 피킹 포인트 추가
- 같은 트레이스를 다시 클릭하면 기존 피킹이 업데이트됩니다
- 피킹 포인트는 빨간색 점으로 표시됩니다
- 여러 포인트는 노란색 선으로 연결되어 표시됩니다

#### 피킹 관리
- **Enable Picking**: 체크박스를 해제하면 피킹 모드 비활성화
- **Show Picks**: 체크박스를 해제하면 피킹 표시 숨김
- **Clear Picks**: 모든 피킹 제거
- **Save Picks**: 피킹 데이터를 CSV 파일로 저장
- **Load Picks**: 저장된 피킹 데이터 로드

### 5. 뷰 설정

#### 컬러맵
- **Seismic**: 지진파 전용 컬러맵 (음수=파랑, 0=흰색, 양수=빨강)
- **Grayscale**: 회색조 컬러맵

#### 뷰 리셋
- "Reset View" 버튼: 확대/축소 및 위치를 초기 상태로 복원

## 키보드 단축키

현재 버전에서는 마우스 입력만 지원합니다.

## 파일 형식

### 입력 파일
- **SEG-Y (.sgy, .segy)**: 표준 SEG-Y Rev 1 형식

### 출력 파일
- **CSV (.csv)**: 피킹 데이터
  - 형식: Trace,Sample
  - 예시:
    ```
    Trace,Sample
    0,125.5
    1,126.3
    2,127.1
    ```

## 테스트 데이터 생성

테스트용 SEG-Y 파일을 생성하려면:

```bash
python create_test_segy.py
```

이 명령은 `resources/test_data.sgy` 파일을 생성합니다.

## 문제 해결

### 프로그램이 실행되지 않는 경우

1. Python 버전 확인:
   ```bash
   python --version
   ```
   3.7 이상이어야 합니다.

2. 의존성 재설치:
   ```bash
   pip install -r requirements.txt --upgrade
   ```

### OpenGL 오류가 발생하는 경우

- 그래픽 드라이버를 최신 버전으로 업데이트하세요
- Linux의 경우 mesa 라이브러리 설치:
  ```bash
  sudo apt-get install libgl1-mesa-dev
  ```

### SEG-Y 파일을 열 수 없는 경우

- 파일이 표준 SEG-Y 형식인지 확인하세요
- 파일 경로에 한글이나 특수문자가 없는지 확인하세요

## 팁

1. **효율적인 피킹**:
   - 몇 개의 트레이스만 피킹하면 자동으로 선형 보간됩니다
   - 중요한 위치(변곡점 등)에만 피킹하세요

2. **확대/축소**:
   - 정밀한 피킹을 위해 확대하세요
   - 전체 데이터를 보려면 "Reset View"를 사용하세요

3. **데이터 저장**:
   - 작업 중간에 정기적으로 피킹을 저장하세요
   - 파일 이름에 날짜나 버전을 포함하면 관리하기 쉽습니다

## 시스템 요구사항

- **운영체제**: Windows, macOS, Linux
- **RAM**: 최소 2GB (큰 SEG-Y 파일의 경우 더 많이 필요)
- **그래픽**: OpenGL 2.1 이상 지원하는 GPU
- **디스플레이**: 최소 1024x768 해상도
